module: app
    import: io
    import: thread

    function: worker
        params:
            declare msg: string
        body:
            io.stdout_write("running in thread: " + msg + "\n")
        end body
    end function

    function: main
        body:
            declare tid: int = thread.create("app.worker", "hello")
            io.stdout_write("spawned tid=" + tid + "\n")
        end body
    end function
end module
